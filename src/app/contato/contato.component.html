
<h2 class="contact__title">Entre em contato</h2>
<section class="contact__container">
  <form class="contact-form" [formGroup]="formContato" (ngSubmit)="enviarFormulario()">

    <!-- Campo Nome-->
    <input
      type="text"
      formControlName="nome"
      placeholder="Digite o seu nome"
      [class.valid]="formContato.get('nome')?.valid && formContato.get('nome')?.touched"
      [class.invalid]="formContato.get('nome')?.invalid && formContato.get('nome')?.touched"
      />
      <div class="mensagem-erro" *ngIf="formContato.get('nome')?.invalid && formContato.get('nome')?.touched">
        <small *ngIf="formContato.get('nome')?.errors?.['required']">O nome é obrigatorio</small>
        <small *ngIf="formContato.get('nome')?.errors?.[minLength]">O nome deve ter pelo menos 4 caracteres.</small>
      </div>

      <!--Campo assunto-->
      <input
        type="text"
        formControlName="assunto"
        placeholder="Digite o assunto"
        [class.valid]="formContato.get('assunto')?.valid && formContato.get('assunto')?.touched"
        [class.invalid]="formContato.get('assunto')?.invalid && formContato.get('assunto')?.touched"
       />
       <div class="mensagem-erro" *ngIf="formContato.get('assunto')?.invalid && formContato.get('assunto')?.touched">
         <small *ngIf="formContato.get('assunto')?.errors?.['required']"> O assunto é obrigatorio.</small>
         <small *ngIf="formContato.get('assunto')?.errors?.['minlength']">O assunto deve ter pelo menos 3 caracteres</small>
       </div>  

      <!-- Campo Telefone-->
       <input
         type="tel"
         formControlName="telefone"
         placeholder="(00) 0 0000-0000"
         [class.valid]="formContato.get('telefone')?.valid && formContato.get('telefone')?.touched"
         [class.invalid]="formContato.get('telefone')?.invalid && formContato.get('telefone')?.touched"
      />
      <div class="mensagem-erro" *ngIf="formContato.get('telefone')?.invalid && formContato.get('telefone')?.touched">
        <small *ngIf="formContato.get('telefone')?.errors?.['required']">O telefone é obrigatorio</small>
        <smail *ngIf="formContato.get('telefone')?.errors?.['pattern']">Formato invalido. Use apenas números (10 ou 11 digitos)</smail>
      </div>

      <!--Campo Email-->
      <input
        type="email"
        formControlName="email"
        placeholder="Digite o seu e-mail"
        [class.valid]="formContato.get('email')?.valid && formContato.get('email')?.touched"
        [class.invalid]="formContato.get('email')?.invalid && formContato.get('email')?.touched"
        />
        <div class="mensagem-erro" *ngIf="formContato.get('email')?.invalid && formContato.get('email')?.touched">
          <small *ngIf="formContato.get('email')?.errors?.['required']">O email é obrigatorio.</small>
          <small *ngIf="formContato.get('email')?.errors?.['email']">Formato de e-mail invalido.</small>    
        </div>

        <!--Campo mensagem-->
        <textarea
          formControlName="mensagem"
          maxlength="300"
          placeholder="Digite a sua mensagem"
          [class.valid]="formContato.get('mensagem')?.valid && formContato.get('mensagem')?.touched"
          [class.invalid]="formContato.get('mensagem')?.invalid && formContato.get('mensagem')?.touched"
        ></textarea>
        <div class="mensagem-erro" *ngIf="formContato.get('mensagem')?.invalid && formContato.get('mensagem')?.touched">
          <small *ngIf="formContato.get('mensagem')?.errors?.['required']">A mensagem é obrigatoria.</small>
          <small *ngIf="formContato.get('mensagem')?.errors?.['minLength']"> A mensagem deve ter pelo menos 10 caracteres.</small>
        </div>  
        <div class="contador-caracteres">
         Caracteres: {{ formContato.get('mensagem')?.value.length || 0 }}/300
        </div>

        <!--Botão de envio habilitado ou desabilitado-->
        <button type="submit"[disabled]="formContato.invalid">Enviar</button>
        
        <!--button type="submit">Enviar</button-->
    </form>

    <!-- Endereço e mapa-->
     <address>
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1821478.4462120149!2d-51.50927224375!3d-26.91697720000001!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x94df18c3b4a71d65%3A0xa5ec9dd8406a6a7!2sProWay!5e0!3m2!1sen!2sbr!4v1761158218865!5m2!1sen!2sbr"
          width="600"
          height="450"
          style="border:0;"
          allowfullscreen=""
          loading="lazy"
          referrerpolicy="no-referrer-when-downgrade"
    ></iframe>
    <p>Endereço: Tarumã Office - Rua 7 de Setembro, 1600 - 14º andar - Centro. 89.010-204 - Blumenau / SC</p> 
    </address>
 </section>
