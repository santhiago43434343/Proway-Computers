import{a as J}from"./chunk-EYG32ZLO.js";import{a as q,c as D,e as j,g as B,j as W,m as A}from"./chunk-ZBYJUNU7.js";import{e as F,i as z}from"./chunk-TUYS5JTA.js";import{$a as n,Ab as v,Ba as h,Bb as y,Cb as E,Ia as M,Ma as g,Wb as V,Xb as N,Yb as T,Z as s,Za as d,_ as p,_a as i,_b as R,ab as f,eb as C,fb as _,hb as u,ob as S,rb as c,sa as I,sb as x,tb as b,ub as w,va as a,vb as O,wb as P,xb as k}from"./chunk-75FMTFL6.js";function $(r,t){if(r&1){let e=C();i(0,"li",7),f(1,"img",8),i(2,"div",9)(3,"p",10),c(4),n(),i(5,"p",11),c(6),n(),i(7,"p",12),c(8),v(9,"number"),n(),i(10,"label"),c(11," Quantidade: "),i(12,"input",13),P("ngModelChange",function(o){let m=s(e).$implicit;return O(m.quantidade,o)||(m.quantidade=o),p(o)}),n()()(),i(13,"button",14),_("click",function(){let o=s(e).index,m=u(2);return p(m.removerItem(o))}),f(14,"i",15),n()()}if(r&2){let e=t.$implicit;a(),d("alt",k(e.nome))("src",e.imagem,I),a(3),x(e.nome),a(2),x(e.descricao),a(2),b("R$ ",y(9,7,e.preco,"1.2-2")),a(4),w("ngModel",e.quantidade)}}function L(r,t){if(r&1){let e=C();i(0,"div")(1,"ul",3),g(2,$,15,10,"li",4),n(),i(3,"h2",5),c(4),v(5,"number"),n(),i(6,"button",6),_("click",function(){s(e);let o=u();return p(o.comprar())}),c(7,"Comprar"),n()()}if(r&2){let e=u();a(2),d("ngForOf",e.itemsCarrinho),a(2),b("Total: R$ ",y(5,2,e.total,"1.2-2"))}}function Q(r,t){r&1&&c(0,"Nenhum produto foi adicionado ao carrinho")}var U=class r{constructor(t,e){this.carrinhoService=t;this.router=e}items=[];itemsCarrinho=[];ngOnInit(){this.items=this.carrinhoService.obterCarrinho().map(t=>t),this.itemsCarrinho=[...this.items]}removerProdutoCarrinho(t){this.itemsCarrinho=this.itemsCarrinho.filter(e=>e.id!==t),localStorage.setItem("carrinho",JSON.stringify(this.itemsCarrinho))}get total(){return this.itemsCarrinho.reduce((t,e)=>t+e.preco*e.quantidade,0)}removerItem(t){this.itemsCarrinho.splice(t,1),localStorage.setItem("carrinho",JSON.stringify(this.itemsCarrinho))}comprar(){alert("Parab\xE9ns, voc\xEA finalizou a sua compra!"),this.carrinhoService.limparCarrinho(),this.router.navigate(["produtos"])}static \u0275fac=function(e){return new(e||r)(h(J),h(F))};static \u0275cmp=M({type:r,selectors:[["app-carrinho"]],decls:5,vars:2,consts:[["semProduto",""],[1,"cart-title"],[4,"ngIf","ngIfElse"],[1,"cart-list"],["class","cart-item",4,"ngFor","ngForOf"],[1,"cart-total"],[1,"buy-button",3,"click"],[1,"cart-item"],["width","100","height","100","loading","lazy",1,"cart-image",3,"src","alt"],[1,"cart-details"],[1,"cart-name"],[1,"cart-description"],[1,"cart-price"],["type","number","min","1",1,"cart-quantity",3,"ngModelChange","ngModel"],["title","Remover item",1,"remove-button",3,"click"],[1,"fa-solid","fa-xmark"]],template:function(e,l){if(e&1&&(i(0,"h2",1),c(1,"Carrinho"),n(),g(2,L,8,5,"div",2)(3,Q,1,0,"ng-template",null,0,E)),e&2){let o=S(4);a(2),d("ngIf",l.itemsCarrinho.length>0)("ngIfElse",o)}},dependencies:[R,V,N,z,A,q,B,D,W,j,T],styles:['@charset "UTF-8";.cart-title[_ngcontent-%COMP%]{font-size:44px;color:var(--gray);font-weight:700;padding:8px 0}li[_ngcontent-%COMP%]{display:flex;box-shadow:#64646f33 0 7px 29px;border-radius:8px;overflow:hidden;margin:10px 0;height:100px;align-items:center;justify-content:space-between}img[_ngcontent-%COMP%]{width:100px;height:100px;display:block}.remove-button[_ngcontent-%COMP%]{background-color:red;border:none;color:#fff;padding:20px;height:100%;transition:.2s all}.remove-button[_ngcontent-%COMP%]:hover{filter:brightness(.9)}.cart-total[_ngcontent-%COMP%]{font-size:24px;color:var(--gray);font-weight:700;padding:8px 0}input[_ngcontent-%COMP%]{width:30px;text-align:center}.buy-button[_ngcontent-%COMP%]{background-color:var(--red);border:none;color:red;background-color:#fff;border-radius:5px;padding:10px;font-weight:700;cursor:pointer;font-size:22px;margin-bottom:10px;transition:background-color .3s all ease,color .3s ease}.buy-button[_ngcontent-%COMP%]:hover{background-color:red;color:#fff}.buy-button[_ngcontent-%COMP%]   .buy-button[_ngcontent-%COMP%]:hover{filter:brightness(.9)}']})};export{U as CarrinhoComponent};
